watchers:
  - type: github_commit
    repo: spotify/docker-gc
    branch: master
    commit: 1543fc22e448536ea300517619dd60aff2d70b2a
  - type: github_commit
    repo: gluster/gluster-prometheus
    branch: master
    commit: 567cf6d017b4c91f7faf2e68b36ed3f2616169f8
  # Auth
  - type: docker_registry
    repo: registry-1.docker.io
    image: coudot/lemonldap-ng
    tag: 2.0.3
    excludes:
      - latest
      - ^1\.
  - type: docker_registry
    repo: registry-1.docker.io
    image: osixia/openldap
    tag: 1.2.4
    excludes:
      - latest
      - .*-dev
      - ^1\.1\.
  - type: docker_registry
    repo: registry-1.docker.io
    image: osixia/phpldapadmin
    tag: 0.8.0
    excludes:
      - latest
      - ^0\.[1-7]\.
  # Dev
  - type: docker_registry
    repo: registry-1.docker.io
    image: gitlab/gitlab-ce
    tag: 11.11.3-ce.0
    excludes:
      - nightly
      - latest
      - rc
      - .*-rc[0-9]+.*
      - ^[1-9]\.
      - ^10\.
      - ^11\.([0-9]|10)\.
  # Download
  - type: docker_registry
    repo: registry-1.docker.io
    image: linuxserver/deluge
    tag: amd64-2.0.3-2201906121747ubuntu18.04.1-ls27
    includes:
      - amd64-[0-9]+\.[0-9]+\.[0-9]+-
    excludes:
      - amd64-latest
      - amd64-[0-1]\.
  #  # Used to build pyload
  #  - type: docker_registry
  #    repo: registry-1.docker.io
  #    image: lsiobase/python
  #    tag: amd64-3.9
  - type: docker_registry
    repo: registry-1.docker.io
    image: linuxserver/sabnzbd
    tag: amd64-2.3.9-0ubuntu1jcfp118.04-u-ls20
    includes:
      - amd64.*
    excludes:
      - amd64-unstable
      - amd64-latest
      - .*(rc[0-9]|alpha|beta).*
      - amd64-[0-1]\..*
      - amd64-2\.[0-2]\..*
  - type: docker_registry
    repo: registry-1.docker.io
    image: linuxserver/sickchill
    tag: amd64-6bfdb223-ls14
    includes:
      - amd64.*
    excludes:
      - amd64-latest
  # Home
  - type: docker_registry
    repo: registry-1.docker.io
    image: homeassistant/home-assistant
    tag: 0.94.4
    excludes:
      - 0\.[0-8].*
      - .*b[0-9]
      - dev
      - rc
      - latest
  - type: docker_registry
    repo: registry-1.docker.io
    image: eclipse-mosquitto
    tag: 1.6.3
    includes:
      - "[0-9]+\\.[0-9]+\\.[0-9]+.*"
    excludes:
      - latest
      - ^1\.[0-5]]\.
  - type: docker_registry
    repo: registry-1.docker.io
    image: nodered/node-red-docker
    tag: 0.20.5-slim-v10
    includes:
      - .*-slim-v10
  - type: docker_registry
    repo: registry-1.docker.io
    image: mkerix/room-assistant
    tag: 1.1.1
    excludes:
      - .*arm32
      - 0\..*
      - latest
      - master
  # Infra
  # TODO KO
  #  - type: docker_registry
  #    repo: k8s.gcr.io
  #    image: kubernetes-dashboard-amd64
  #    tag: v1.10.1
  #    excludes:
  #      - .*-beta.*
  #      - canary
  #      - v0\.
  - type: docker_registry
    repo: quay.io
    image: kubernetes-ingress-controller/nginx-ingress-controller
    # We are using 0.24.1, but the registry API doesn't list this version for some reason.
    # To avoid false positives, we keep 0.24.0 here
    #tag: 0.24.1
    tag: 0.24.0
    excludes:
      - .*(alpha|beta).*
      - 0\.[0-9]\.
      - 0\.1[0-9]\.
    includes:
      - "[0-9]+\\.[0-9]+\\.[0-9]+"
  - type: docker_registry
    repo: registry-1.docker.io
    image: mailhog/mailhog
    tag: v1.0.0
    excludes:
      - latest
  - type: docker_registry
    repo: registry-1.docker.io
    image: registry
    tag: 2.7.1
    excludes:
      - latest
      - .*-rc\.[0-9]+
      - 2\.[0-6]\.
    includes:
      - "[2-9]+\\.[0-9]+\\.[0-9]+.*"
  - type: docker_registry
    repo: registry-1.docker.io
    image: stakater/reloader
    tag: v0.0.30
    excludes:
      - .*SNAPSHOT.*
      - ^PR-.*
      - dev
      - 0\.0\.[0-2]?[0-9]$
  - type: docker_registry
    repo: registry-1.docker.io
    image: linuxserver/unifi-controller
    tag: amd64-5.10.25-ls22
    includes:
      - amd64-[0-9]+\.[0-9]+\.[0-9]+.*
    excludes:
      - LTS
      - latest
      - amd64-5\.[0-9]\..*
      - amd64-5\.10\.[01]?[0-9]-.*
  - type: docker_registry
    repo: registry-1.docker.io
    image: redis
    tag: 5.0.5-alpine3.9
    includes:
      - "[5-9]\\.[0-9]+\\.[0-9]+.*alpine3\\.9"
  - type: docker_registry
    repo: registry-1.docker.io
    image: mongo
    tag: 4.1.13-bionic
    includes:
      - 4\.[0-9]+.[0-9]+-bionic
    excludes:
      - 4\.0\..*
  - type: docker_registry
    repo: registry-1.docker.io
    image: node
    tag: 10.16.0-alpine
    includes:
      - 10\.[0-9]+\.[0-9]+-alpine
    exclude:
      - 10\.[0-9]\..*
      - 10\.1[0-5]\..*
  # Logging
  - type: docker_registry
    repo: registry-1.docker.io
    image: amazon/opendistro-for-elasticsearch
    tag: 0.9.0
    excludes:
      - latest
  - type: docker_registry
    repo: registry-1.docker.io
    image: fluent/fluent-bit
    tag: 1.1.3
    includes:
      - "[1-9]\\.[0-9]+\\.[0-9].*"
    excludes:
      - .*debug.*
      - ^0\.
      - 1\.0\..*
  - type: docker_registry
    repo: registry-1.docker.io
    image: fluent/fluentd
    tag: v1.5.2-debian-1.0
    includes:
      - v[1-9]\.[0-9]+\.[0-9]+.*debian.*
  - type: docker_registry
    repo: registry-1.docker.io
    image: amazon/opendistro-for-elasticsearch-kibana
    tag: 0.9.0
    excludes:
      - latest
  # Monitoring
  - type: github_release
    repo: coreos/kube-prometheus
    release: v0.1.0
  # Stream
  - type: docker_registry
    repo: registry-1.docker.io
    image: airsonic/airsonic
    tag: 10.3.1-RELEASE
    includes:
      - .*-RELEASE
    excludes:
      - 10\.[0-1]\.
  - type: docker_registry
    repo: registry-1.docker.io
    image: plexinc/pms-docker
    tag: 1.16.0.1226-7eb2c8f6f
    includes:
      - "[0-9]+\\.[0-9]+\\.[0-9]+\\..*"
    excludes:
      - 1\.[0-9]\.
      - 1\.1[0-5]\.
  # Web
  - type: docker_registry
    repo: registry-1.docker.io
    image: linuxserver/heimdall
    tag: amd64-2.2.1-ls47
    includes:
      - amd64-[0-9]+\.[0-9]+\.[0-9]+.*
    excludes:
      - amd64-[0-1]\.
      - amd64-2\.[0-1]\.
  - type: docker_registry
    repo: registry-1.docker.io
    image: linuxserver/tt-rss
    tag: amd64-19.2-ls21
    includes:
      - amd64.*
    excludes:
      - amd64-latest
