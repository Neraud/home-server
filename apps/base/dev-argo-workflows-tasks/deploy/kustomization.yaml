apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

generatorOptions:
  disableNameSuffixHash: true

labels:
  - includeSelectors: false
    pairs:
      app.kubernetes.io/part-of: argo-workflows-tasks

namespace: dev-argo-workflows-tasks

secretGenerator:
- name: minio-credentials
  env: config/minio-credentials.secret.env
- name: rsync-source
  files:
  - config/rsync/ssh_config
  - config/rsync/id_rsa
- name: git-credentials
  env: config/git-credentials.secret.env

resources:
- namespace.yaml
- ../../_common/deploy
- argo-server-rbac
- workflow-controller-rbac
- executor-rbac
- templates
- argocd
