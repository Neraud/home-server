---
# To avoid loops inside release_watcher
_release_watcher_var_loader:
  repo:
    url: "https://github.com/Neraud/release-watcher"
    version: "611fc16ed76c5406c4bc99d3326a6e91a1ca2b87"

release_watcher:
  enabled: "{{ release_watcher_enabled | default(True) }}"

  namespace: "monitoring-release-watcher"
  private_image:
    repo: "{{ docker_private_registry.url }}"
    name: "release-watcher"
    tag: "{{ _release_watcher_var_loader.repo.version }}-custom"

  labels_def:
    app.kubernetes.io/name: release-watcher
    app.kubernetes.io/component: release-watcher

  labels_desc:
    app.kubernetes.io/version: "{{ _release_watcher_var_loader.repo.version }}-custom"

  container:
    requests_cpu: "{{ release_watcher_container_requests_cpu | default('25m') }}"
    requests_memory: "{{ release_watcher_container_requests_memory | default('64Mi') }}"
    limits_cpu: "{{ release_watcher_container_limits_cpu | default('100m') }}"
    limits_memory: "{{ release_watcher_container_limits_memory | default('64Mi') }}"

  repo: "{{ _release_watcher_var_loader.repo }}"

  path: "{{ release_watcher_path | default('/opt/release-watcher') }}"

  github:
    username: "{{ release_watcher_github_username | default(None) }}"
    password: "{{ release_watcher_github_password | default(None) }}"
