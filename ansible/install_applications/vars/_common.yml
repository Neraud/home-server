---
ingress_nginx:
  namespace_labels_def:
    app.kubernetes.io/name: ingress-nginx

  labels_def:
    app.kubernetes.io/name: ingress-nginx

# To avoid loops inside busybox_init
_busybox_var_loader:
  base_image:
    repo: "docker.io"
    name: "library/busybox"
    tag: "1.35.0"

busybox:
  base_image: "{{ _busybox_var_loader.base_image }}"
  # Our docker registry statefulset uses busybox for initContainer, it can't pull it from itself
  public_image:
    repo: "{{ _busybox_var_loader.base_image.repo }}"
    name: "{{ _busybox_var_loader.base_image.name }}"
    tag: "{{ _busybox_var_loader.base_image.tag }}"
  private_image:
    repo: "{{ docker_private_registry.url }}"
    name: "{{ _busybox_var_loader.base_image.name | regex_replace('.*/', '') }}"
    tag: "{{ _busybox_var_loader.base_image.tag }}"

docker_private_registry:
  url: "{{ docker_registry.domain }}"
  api_url: https://{{ docker_registry.domain }}
  ca_path: "{{ docker_private_registry_ca_path | default('') }}"
  username: "{{ docker_registry_kube_registry_username }}"
  password: "{{ docker_registry_kube_registry_password }}"
