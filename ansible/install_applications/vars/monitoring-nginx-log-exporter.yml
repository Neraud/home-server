---

nginx_log_exporter:
  enabled: "{{ nginx_log_exporter_enabled | default(True) }}"

  container:
    repo: quay.io
    image: "martinhelmich/prometheus-nginxlog-exporter"
    tag: "v1.3.0"
    requests_cpu: "{{ nginx_log_exporter_container_requests_cpu | default('25m') }}"
    requests_memory: "{{ nginx_log_exporter_container_requests_memory | default('64Mi') }}"
    limits_cpu: "{{ nginx_log_exporter_container_limits_cpu | default('25m') }}"
    limits_memory: "{{ nginx_log_exporter_container_limits_memory | default('64Mi') }}"

    logs_mount_point: /mnt/nginx/logs
  
  default_log_format: '$remote_addr - $remote_user [$time_local] "$request" $status $body_bytes_sent "$http_referer" "$http_user_agent" rt=$request_time uct="$upstream_connect_time" uht="$upstream_header_time" urt="$upstream_response_time"'

  sites: "{{ nginx_log_exporter_sites | default([]) }}"
