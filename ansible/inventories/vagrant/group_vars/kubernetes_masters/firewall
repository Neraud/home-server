---

# See https://kubernetes.io/docs/setup/independent/install-kubeadm/

firewall_applications:
  # Only used to allow the mock NAS share on Vagrant
  - name: nfs_custom
    title: Network File System (NFS)
    description: Network File System (NFS)
    ports: 2049
    rule: allow
  - name: custom_nginx
    title: Nginx Web Server
    description: Small, but very powerful and efficient web server
    ports: 80,443/tcp
    rule: allow
  - name: custom_dnsmasq
    title: Dnsmasq
    description: Dnsmasq
    ports: 53
    rule: allow
  - name: kubernetes_api_server
    title: Kubernetes API server
    description: Kubernetes API server
    ports: 6443/tcp
    rule: allow
  - name: kubernetes_etcd_server_client_api
    title: etcd server client API
    description: etcd server client API
    ports: 2379,2380/tcp
    rule: allow
  - name: kubelet_api
    title: Kubelet API
    description: Kubelet API
    ports: 10250/tcp
    rule: allow
  - name: kubernetes_scheduler
    title: Kubernetes Scheduler
    description: Kubernetes Scheduler
    ports: 10251/tcp
    rule: allow
  - name: kubernetes_controller_manager
    title: Kubernetes Controller Manager
    description: Kubernetes Controller Manager
    ports: 10252/tcp
    rule: allow
  - name: kubernetes_ingress
    title: Kubelet Ingress
    description: Kubelet Ingress
    ports: "{{ kubernetes_ingress_http_port }},{{ kubernetes_ingress_https_port }}/tcp"
    rule: allow
#    src: 192.168.100.10
  - name: kubernetes_flannel_vxlan
    title: Kubernetes Flannel vxlan
    description: Kubernetes Flannel vxlan
    ports: 8472/udp
    rule: allow
#  - name: kubernetes_flannel_udp
#    title: Kubernetes Flannel udp
#    description: Kubernetes Flannel udp
#    ports: 8285/udp
#    rule: allow

  - name: glusterfs-server
    title: GlusterFS Server
    description: GlusterFS Server
    ports: "24007,24008,49152:49664/tcp"
    rule: allow
    src: 192.168.100.0/24

  - name: prometheus_node_exporter
    title: Prometheus Node Exporter
    description: Prometheus Node Exporter
    ports: 9100/tcp
    rule: allow
  - name: prometheus_gluster_exporter
    title: Prometheus Gluster Exporter
    description: Prometheus Gluster Exporter
    ports: 8090/tcp
    rule: allow
  - name: mosquitto
    title: Mosquitto
    description: Mosquitto is an open source message broker that implements the MQTT (MQ Telemetry Transport) protocol v3.1.
    ports: 8883/tcp
    rule: allow
